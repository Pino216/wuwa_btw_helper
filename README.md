# 鸣潮·踏潮探历小助手 🤖

一个用于《鸣潮》游戏中“踏潮探历”活动的智能算法助手，帮助玩家以最优策略完成坐标探索。

## 功能特点

### 🎮 核心功能
- **交互式网格界面**：7×7 的坐标网格，直观显示当前探索状态
- **智能算法推荐**：实时计算每个未开启格子的期望收益，推荐最佳点击位置
- **保底系统模拟**：模拟游戏中的保底机制，动态调整概率权重
- **多算法支持**：提供三种不同的算法策略，适应不同游戏阶段

### 🤖 算法策略
1. **贪心算法 (默认推荐)**：选择当前期望收益最高的格子
2. **带权启发式算法**：平衡探索与利用，可调整探索权重
3. **熵减算法**：优先分散未开启格子簇，减少孤立区域

### 📊 高级功能
- **批量模拟**：运行多次模拟测试，统计平均点击次数和方差
- **热力分布图**：显示开局最优解分布，帮助理解算法选择
- **概率权重调整**：自定义7种事件类型的触发概率
- **响应式设计**：完美适配桌面端和移动端

## 使用方法

### 基本操作
1. **打开网页**：直接双击 `鸣潮踏潮探历小助手.html` 在浏览器中打开
2. **开始探索**：点击网格中的任意未开启格子
3. **选择事件**：在弹出的菜单中选择要触发的事件类型
4. **查看推荐**：颜色标记的格子表示算法推荐的最佳选择
   - 🔴 红色：最优选择
   - 🟠 橙色：次优选择（分数 > 最优分数的80%）

### 配置选项
- **概率权重**：调整7种事件类型的触发概率（总和应为100%）
- **保底系统**：
  - 启用/禁用保底机制
  - 设置保底起始值（X）和上限值（Y）
  - 默认值：起始3，上限5
- **算法选择**：在三种算法中选择适合当前情况的策略

### 批量模拟
1. 在配置面板中设置模拟次数（10-10000次）
2. 点击“开始批量模拟”按钮
3. 查看对比结果和热力分布图

## 算法详解

### 期望收益计算
对于每个未开启格子，计算触发7种事件类型的期望收益：
1. 仅当前格子 📍
2. 同列 ↕️
3. 同行 ↔️
4. 同行同列 ➕
5. 十字 💠
6. 九宫格 🍷
7. 全开 🌟

### 保底机制
当连续未触发事件次数达到保底起始值（X）时，前6种事件的概率会逐渐增加，直到达到保底上限（Y）时概率提升50%。

### 算法比较
- **贪心算法**：简单高效，适合大多数情况
- **带权启发式**：通过调整探索权重（w）平衡短期收益和长期探索
- **熵减算法**：优先减少未开启格子的分散程度，适合后期清理

## 技术实现

### 核心技术
- **纯前端实现**：使用 HTML5、CSS3 和原生 JavaScript
- **本地存储**：使用 localStorage 保存游戏进度和设置
- **响应式布局**：CSS 媒体查询适配不同屏幕尺寸
- **音频反馈**：Web Audio API 提供操作音效

### 数据结构
```javascript
const state = {
    grid: Array(49).fill(false),      // 7×7 网格状态
    probs: [33, 14, 14, 7, 18, 13, 1], // 事件概率权重
    clicks: 0,                         // 当前点击次数
    enablePity: true,                  // 是否启用保底
    pityStart: 3,                      // 保底起始值
    pityMax: 5,                        // 保底上限值
    currentMisses: 0,                  // 当前未触发计数
    currentAlgorithm: 'greedy',        // 当前算法
    heuristicWeight: 1.0               // 启发式权重
};
```

## 文件结构
```
项目目录/
├── 鸣潮踏潮探历小助手.html  # 主程序文件
├── README.md                # 说明文档（本文件）
└── .gitignore              # Git 忽略配置
```

## 使用建议

### 游戏初期
- 使用**贪心算法**快速开启大量格子
- 优先选择期望收益最高的格子

### 游戏中后期
- 切换到**熵减算法**减少孤立区域
- 关注保底计数，合理利用概率提升

### 策略调整
- 根据剩余格子数量调整算法
- 使用批量模拟功能测试不同配置的效果

## 常见问题

### Q: 概率权重总和不是100%怎么办？
A: 程序会自动归一化处理，但建议手动调整到100%以获得预期效果。

### Q: 如何重置游戏进度？
A: 点击配置面板底部的“🔄 重置进度”按钮。

### Q: 移动端上如何使用？
A: 程序已适配移动端，操作方式与桌面端相同，界面会自动调整。

### Q: 数据会保存吗？
A: 是的，所有进度和设置都会自动保存到浏览器的 localStorage 中。

## 更新日志

### v1.2 (当前版本)
- 默认保底上限从10调整为5
- 优化移动端显示效果
- 修复批量模拟的性能问题

### v1.1
- 添加三种算法策略
- 增加批量模拟功能
- 改进用户界面

### v1.0
- 初始版本发布
- 基本网格交互
- 贪心算法实现

## 贡献与反馈

本项目由 B站@Dark噫术家 开发。

如有问题或建议，欢迎通过以下方式反馈：
- B站主页：[@Dark噫术家](https://space.bilibili.com/你的ID)
- GitHub Issues：提交代码问题或功能请求

## 许可证

本项目仅供学习和交流使用，请勿用于商业用途。

---
**祝你在《鸣潮》的踏潮探历活动中取得好成绩！** 🎮✨
